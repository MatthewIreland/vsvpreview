%%%% Packages needed %%%%
\usepackage{color,soul}                     % highlight and strikethrough
\usepackage{listings}                       % code highlighting
\usepackage{geometry}                       % for textwidth/textheight
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{pdftexcmds}                     % conditionals (for setting text width)
\usepackage{mdframed}
\usepackage{fancyhdr}


%%%% (Internal) %%%%
\newcounter{vsvrhscounter}
\newcounter{vsvlhscounter}
\makeatletter
\newcommand\vsvsetwidth[3]{%
  \ifnum\pdf@strcmp{\unexpanded{#1}}{right}=0 %
     \expandafter\@firstoftwo
  \else
    \expandafter\@secondoftwo
  \fi
    {\newgeometry{textwidth=118mm,textheight=157mm,showframe=true}\fancyhf[LC]{}\fancyhf[HC]{\textbf{Question (right-hand) pane -- Number R\thevsvrhscounter}\\In: #2 --- Out: #3}\stepcounter{vsvrhscounter}}
    {\newgeometry{textwidth=118mm,textheight=68mm,showframe=true}\fancyhf[LC]{}\fancyhf[HC]{\textbf{Image/code (left-hand) pane -- Number L\thevsvlhscounter}\\In: #2 --- Out: #3}\stepcounter{vsvlhscounter}}%
}
\makeatother


%%%% Environments %%%%
\newenvironment{vsvframe}[3]{%
\vsvsetwidth{#3}{#1}{#2}
\thispagestyle{fancy}

\begin{mdframed}
}%
{\end{mdframed}

\restoregeometry
\pagestyle{empty}}

\newenvironment{vsvgrey}[2]{\color{gray}}{\color{black}}

\newenvironment{vsvappear}[2]{}{}


%%%% Macros %%%%
\newcommand{\vsvitem}[3]{\item}

\definecolor{hlcolour}{rgb}{1,1,0}
\sethlcolor{hlcolour}
%\newcommand{\vsvhl}[1]{\hspace{-2pt}\hl{\mbox{}~#1~\mbox{}}\hspace{-2pt}}
\newcommand{\vsvhl}[3]{\hl{#3}}

\newcommand{\vsvhlnowrap}[3]{\colorbox{hlcolour}{{#3}}}

\setstcolor{red}
\newcommand{\vsvcorrect}[4]{\st{#3}\ \ \ \ \ #4}

\lstdefinestyle{customc}{
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  xleftmargin=\parindent,
  language=C,
  showstringspaces=false,
  basicstyle=\fontsize{11pt}{13pt}\selectfont\ttfamily,
  columns=flexible,
  keepspaces=true,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{purple!40!black},
  identifierstyle=\color{blue},
  stringstyle=\color{orange},
  escapechar=~
}
